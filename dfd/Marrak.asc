int aboutMarrakCount = 0;
int rumorCount = 0;

// new module script
function talkMarrak() {
    aboutMarrakCount = 0;
    rumorCount = 0;
    cHero.Walk(cMarrak.x + 20,  cMarrak.y + 20, eBlock, eWalkableAreas);
    cHero.FaceCharacter(cMarrak);
    dMarrak_1.Start();
}

function lookMarrak() {
    Display("The Katta fruit seller looks cheerful, bright-eyed, and eager to help. He juggles his fruit with an ease that bespeaks long practice.");
}

function askAboutMarrak() {
    switch(aboutMarrakCount) {
        case 0:
            cMarrak.Say("&4 I remember the days when the sea was filled with sailors, and the dock was covered with fresh calamari and mackerel. I miss the fish.");
            break;
        case 1:
            cMarrak.Say("&5 It is a pleasant day for basking in the sunlight. I am content.");
            break;
        case 2:
            cMarrak.Say("&6 There is nothing quite like the warm glow of pizza in the belly, and the quiet fire of pepperoni on the tongue.");
            break;
        case 3:
            cMarrak.Say("&7 The wind is brisk today. You can smell the sea spray even up here.");
            break;
        case 4:
            cMarrak.Say("&8 The cold wind blows through my fur.  I would be much happier beside a warm fireplace right now, lapping hot milk with melted sokolatak-ya.");
            break;
        case 5:
            cMarrak.Say("&9 I am very well this day, for the wind has died down again, and I can enjoy being outside.");
            break;
        default:
            cMarrak.Say(DIALOG_ERROR);
    }
    aboutMarrakCount += 1;
    if (aboutMarrakCount > 5) {
        aboutMarrakCount = 0;
    }
}

function rumorMarrak() {
    switch(rumorCount) {
        case 0:
            cMarrak.Say("&10 They say that after the King died, people wanted to make Logos the Centaur ruler of this land. He refused, saying that the Rite of Rulership would bring forth the finest possible new King.");
            break;
        case 1:
            cMarrak.Say("&11 A few years back, the islands around Silmaria were plagued with pirates. Trading ships found it difficult to get here. Now that the invaders have landed, no trading ship dares to come here.");
            break;
        case 2:
            cMarrak.Say("&12 There is talk that the woman warrior who enters the Rite of Rulership is a nobleperson from a distant land. Her fearsome companion is now Guildmaster for the Adventurer's Guild. They make a most formidable pair.");
            break;
        case 3:
            cMarrak.Say("&13 Many of the people who have chosen to stay in Silmaria are those that came from other lands. Perhaps they have learned well the lesson of how hard it is to leave your home behind.");
            break;
        case 4:
            cMarrak.Say("&14 One year ago, this was a thriving city, and this marketplace was filled with the laughter and chatter of the crowds. Alas, now the streets are almost silent, and the happiness has passed.");
            break;
        case 5:
            cMarrak.Say("&15 Most of the merchants are very concerned with the Rites of Rulership. We hope that it will truly choose the best possible King, but fear that it will only pick the best warrior and not the finest person. You would make a good King for Silmaria.");
            break;
        default:
            cMarrak.Say(DIALOG_ERROR);
    }
    rumorCount += 1;
    if (rumorCount > 5) {
        rumorCount = 0;
    }
}